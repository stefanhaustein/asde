LET ship = screen.newSprite()

SUB gameOver()
10 rem tbd
END SUB

SUB newAsteroid(Number x, Number y, Number size, Number direction, Number speed)
10 LET asteroid = screen.newSprite()
20 asteroid.face = "ðŸ¥”"
30 asteroid.x = x
40 asteroid.y = y
45 asteroid.size = size
50 asteroid.direction = direction
55 asteroid.speed = speed
60 asteroid.rotation = rnd() * 20
70 asteroid.edgeMode = EdgeMode.WRAP
100 on len(asteroid.collisions) > 0 :
105   if asteroid.face =  "ðŸ¥”" then
110     for i = 0 to len(asteroid.collisions) - 1
120       let other = asteroid.collisions(i)
130       if other.face = "ðŸš€" then
135         gameOver
140       else if other.face = "ðŸ”´" then
150         other.opacity = 0
153         breakAsteroid asteroid
160       end if
170     next i
180   end if
200 end
END SUB

SUB breakAsteroid(Sprite asteroid)
10 asteroid.face = "ðŸ’¥"
12 asteroid.grow = 10
14 asteroid.fade = -5
20 play "ðŸ’¥"
30 if asteroid.size > 20 then
40   newAsteroid asteroid.x, asteroid.y, asteroid.size - 10, asteroid.direction + 45, asteroid.speed * 2
50   newAsteroid asteroid.x, asteroid.y, asteroid.size - 10, asteroid.direction - 45, asteroid.speed * 2
60 end if
END SUB

SUB shoot()
10 Let shot = screen.newSprite()
15 shot.size = 5
20 shot.face = "ðŸ”´"
30 shot.direction = ship.angle + 45
40 shot.speed = 200
50 play "ðŸ”«"
END SUB

10 ship.size = 30
20 ship.face = "ðŸš€"
25 dpad.visible = TRUE
30 on dpad.right :
31   ship.rotation = 90
32 end
40 on dpad.left :
43   ship.rotation = -90
46 end
60 on not dpad.right and not dpad.left :
63   ship.rotation = 0
66 end
70 on dpad.fire :
80   shoot
90 end
100 newAsteroid screen.width / 2, screen.height / 2, 50, rnd() * 360, rnd() * 10 + 5